<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Russell Gray" />
        <meta name="copyright" content="Russell Gray" />

        <link rel="author" href=https://plus.google.com/u/0/102559471807447493728 />
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="rants, commentary, " />

<meta property="og:title" content="Comment Discontent "/>
<meta property="og:url" content="./comment-discontent.html" />
<meta property="og:description" content="There seems to have been a recent outbreak in blog posts about code commenting. As is so often the case with topics such as this, everyone has an opinion and they all seem to be different. It&#39;s quite an eye- opener seeing some of the explanations, justifications, and outright haranguing …" />
<meta property="og:site_name" content="Basildon Coder" />
<meta property="og:article:author" content="Russell Gray" />
<meta property="og:article:published_time" content="2008-07-30T17:01:00+01:00" />
<meta name="twitter:title" content="Comment Discontent ">
<meta name="twitter:description" content="There seems to have been a recent outbreak in blog posts about code commenting. As is so often the case with topics such as this, everyone has an opinion and they all seem to be different. It&#39;s quite an eye- opener seeing some of the explanations, justifications, and outright haranguing …">

        <title>Comment Discontent  · Basildon Coder
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="./theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <div class="span1"></div>
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="./"><span class=site-name>Basildon Coder</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href=".">Home</a></li>
                            <li ><a href="./categories.html">Categories</a></li>
                            <li ><a href="./tags.html">Tags</a></li>
                            <li ><a href="./archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="./search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="./comment-discontent.html"> Comment Discontent  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <p>There seems to have been a recent <a href="http://blog.uncommons.org/2008/07/25/no-your-code-is-not-so-great-that-it-doesnt-need-comments/">outbreak</a> <a href="http://www.carlcrowder.com/blog/?p=34">in</a> <a href="http://www.codinghorror.com/blog/archives/001150.html">blog</a> <a href="http://steve-yegge.blogspot.com/2008/02/portrait-of-n00b.html">posts</a>
about <a href="http://en.wikipedia.org/wiki/Comment_(computer_programming)">code commenting</a>. As is so often the case with topics such as this,
everyone has an opinion and they all seem to be different. It's quite an eye-
opener seeing some of the explanations, justifications, and outright
haranguing used in defence of all sorts of weird and wonderful stances.</p>
<p>I got a wry smile from <a href="http://steve-yegge.blogspot.com/2008/02/portrait-of-n00b.html">stevey's post</a>, as I recognise only too well the
tendency to write narrative comments. I'm sure there's plenty of code from
early in my career still floating around in various company codebases where
the code/comment ratio is something embarrassing. I've mostly shaken that off
now, though I sometimes have to fight my inner raconteur when writing
something I think is neat or clever.</p>
<p>Jeff Atwood, as is so often the case recently, contradicted his <a href="http://www.codinghorror.com/blog/archives/000749.html">own previous
post</a> on the matter (replacing the statement "comments can never be
replaced by code alone" with "if your feel your code is too complex to
understand without comments, your code is probably just bad") and endearingly
veered wildly to and fro across a sensible medium<sup id="fnref-1"><a class="footnote-ref" href="#fn-1">1</a></sup>, without ever quite
hitting it. Coding Horror, indeed.</p>
<p>So far, so blah; every time an argument on comments flares up we see the same
thing. Something I've not noticed before though, either because I wasn't
paying attention or because it's a new thing, is a trend amongst the I-don't
-need-comments crowd to advocate very long and detailed method names as an
alternative.</p>
<p>As neophyte coders we all have it drilled into us that we must use descriptive
names. Programming gospel, as handed down in sacred tomes such as <a href="http://www.amazon.co.uk/Code-Complete-Practical-Handbook-Construction/dp/1556154844">Code
Complete</a>, tell us not to use names like 'i' and 'tmp' except in very
specific circumstances (e.g. loop indexes and tempfile handles). And, without
question, this is good solid advice. Take heed, young Padawan, etc.</p>
<p>But can you take it too far? It's not something I've really come up against,
but it seems to be increasingly popular. <a href="http://blog.uncommons.org/2008/07/25/no-your-code-is-not-so-great-that-it-doesnt-need-comments/">One response</a> to Jeff's post
suggested (only in passing, to be fair) using a function name like
<code>newtonRaphsonSquareRoot</code>. A digg comment (OK, OK, not exactly the fount
of all knowledge) vehemently defended the virtue of the frankly- scary
<code>RunEndOfMonthReportsUnlessTheMonthStartsOnAFridayInWhichCaseRunTheWeekl
yReportInstead</code> (!)</p>
<p>The argument is that with names like these, you don't need comments, since it
is perfectly clear what the function does. Is it perfectly clear at the wrong
level though? Function names like this, in my opinion, are so 'clear' that
they leak. These are function names that violate the principle of
<a href="https://en.wikipedia.org/wiki/Encapsulation_(object-oriented_programming)">encapsulation</a>.</p>
<p>If I write a square root function, why do I need to burden all my clients with
information about how I've implemented it? By naming it
<code>newtonRaphsonSquareRoot</code>, that's exactly what I'm doing. Unless there are
specific performance implications/requirements that favour <a href="http://en.wikipedia.org/wiki/Newton%27s_method">Newton-
Raphson</a>, in most cases my clients just want a damn square root calculated
to within a specified tolerance and don't care whether I used Newton's method
or one of the <a href="http://en.wikipedia.org/wiki/Methods_of_computing_square_roots">army of alternatives</a>. The implementation should be private
to the method, and no-one else's business.</p>
<p>Worse, what if a requirements change means a switch to <a href="http://en.wikipedia.org/wiki/Methods_of_computing_square_roots#Reciprocal_of_the_square_root">Walsh's fast
reciprocal method</a>? Uh-oh, now my method name is completely misleading, so
I have to change it. Oops, now I have to change all the client code that calls
it! I'd better hope no-one has exposed this with <code>[WebMethodAttribute]</code> since
I wrote it, otherwise there could be thousands of client applications out
there relying on it. My funky rename refactoring can't save me now.</p>
<p>If every tiny change propagates through the system requiring hundreds of
source files to change, and possibly external apps as well, you may as well
just copy 'n' paste the code everywhere it's needed and doing away with the
function completely. Hell, who needs abstraction anyway?</p>
<p>We all do, of course, which is why I think names like this are a bad smell.
The same goes for <code>RunEndOfMonthReportsUnless...</code> - what happens when the
requirements change? This method name couples the public interface (method
name) to the private implementation, which is exactly what you're not supposed
to do. <code>RunEndOfMonthReports</code> is probably sufficient. Separate interface and
implementation. This is programming 101, people, it shouldn't be beyond our
grasp.</p>
<p>The function name is descriptive and clear whilst remaining general enough to
allow an alternative implementation. Anyone who cares enough about the
implementation (for performance reasons, or simply curiosity) can find enough
information in the comment to start their investigation, without having the
details jammed in their face every time they call it.</p>
<div class="footnote">
<hr>
<ol>
<li id="fn-1">
<p>I agree with <a href="http://blog.uncommons.org/2008/07/25/no-your-code-is-not-so-great-that-it-doesnt-need-comments/">Dan Dyer</a> that the best choice is as follows:</p>
<div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> *  Approximate the square root of n, to within the specified</span>
<span class="cm"> *  tolerance, using the Newton-Raphson method.</span>
<span class="cm"> */</span>
<span class="kd">private</span> <span class="kt">double</span> <span class="nf">approximateSquareRoot</span><span class="o">(</span><span class="kt">double</span> <span class="n">n</span><span class="o">,</span> <span class="kt">double</span> <span class="n">tolerance</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">double</span> <span class="n">root</span> <span class="o">=</span> <span class="n">n</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
    <span class="k">while</span> <span class="o">(</span><span class="n">abs</span><span class="o">(</span><span class="n">root</span> <span class="o">-</span> <span class="o">(</span><span class="n">n</span> <span class="o">/</span> <span class="n">root</span><span class="o">))</span> <span class="o">&gt;</span> <span class="n">tolerance</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">root</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="o">(</span><span class="n">root</span> <span class="o">+</span> <span class="o">(</span><span class="n">n</span> <span class="o">/</span> <span class="n">root</span><span class="o">));</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">root</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>


<p><a class="footnote-backref" href="#fnref-1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
            
            
    <div class="accordion" id="accordion2">
        <div class="accordion-group">
            <div class="accordion-heading">
                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#comments">
                Comments (4) </a>
            </div>

            <div id="comments" class="accordion-body collapse">
                <div class="accordion-inner">
                    <div class="comments">
                        <ul>
                            <li>DaStormyBlood said: <p>The correct way to handle the square root issue, imho, is as follows:</p>
<div class="highlight"><pre><span></span><span class="n">module</span> <span class="n">foo</span><span class="o">.</span><span class="n">math</span><span class="p">;</span>
<span class="nb">float</span> <span class="n">NewtonRaphsonSquareRoot</span><span class="p">();</span>

<span class="o">...</span>

<span class="n">module</span> <span class="n">bar</span><span class="o">.</span><span class="n">config</span><span class="p">;</span>
<span class="n">public</span> <span class="kn">import</span> <span class="nn">foo.math</span><span class="p">:</span>
<span class="n">sqrt</span> <span class="o">=</span> <span class="n">NewtonRaphsonSquareRoot</span><span class="p">;</span>

<span class="o">...</span>

<span class="n">module</span> <span class="n">bar</span><span class="o">.</span><span class="n">whee</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">bar.config</span><span class="p">;</span>
<span class="o">...</span>
<span class="n">sqrt</span><span class="p">();</span>
</pre></div>


<p>And so on.</p></li>
                            <li>Daniel Pietraru said: <p>Lots of common sense in your post :) Maybe so much some people cannot stomach
it. The reality is these little things like comments and variable names  are a
frequent cause for flame wars among developers. There is a category of coders
who pretend their code is too good to need comments. And always this statement
is pure BS. No code is clear or good enough taken out of the context of the
original development. Constraints, requirements etc. change in time to the
point where the original code seems dumb. If anybody is interested I wrote
some of my thoughts on how bad comments are born here:
http://littletutorials.com/2008/07/30/how-bad-comments-are-born-in-your-code/</p>
<p>Thanks for the good and entertaining read :)</p></li>
                            <li>Thomas Eyde said: <p>It's possible to use method names as comments without breaking encapsulation</p>
<div class="highlight"><pre><span></span>public double SquareRoot(double n)
{
    //return NewtonRaphsonSquareRoot(n);
    return WalshFastReciprocalSquareRoot(n);
}

private double NewtonRaphsonSquareRoot(double n)
{
    ...
}

private double WalshFastReciprocalSquareRoot(double n)
{
    ...
}
</pre></div></li>
                            <li>Darcie Jefferies said: <p>Very efficiently written story. It will be supportive to everyone who usess
it, as well as myself. Keep up the good work - for sure i will check out more
posts.</p></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="./lexical-closures-in-c-30.html" title="Previous: Lexical Closures in C# 3.0">Lexical Closures in C# 3.0</a></li>
                <li class="next-article"><a href="./dynamic-async-batching-with-pfx.html" title="Next: Dynamic Async Batching with PFX">Dynamic Async Batching with PFX</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2008-07-30T17:01:00+01:00">Jul 30, 2008</time>
            <h4>Category</h4>
            <a class="category-link" href="./categories.html#commentary-ref">commentary</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="./tags.html#rants-ref">rants
                    <span>7</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="http://twitter.com/russgray" title="My Twitter Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-twitter sidebar-social-links"></i></a>
    <a href="http://github.com/russgray" title="My Github Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-github sidebar-social-links"></i></a>
    <a href="http://uk.linkedin.com/in/russgray/" title="My LinkedIn Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-linkedin sidebar-social-links"></i></a>
    <a href="mailto:russgray@gmail.com" title="My Email Address" class="sidebar-social-links" target="_blank">
    <i class="fa fa-envelope sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="https://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>