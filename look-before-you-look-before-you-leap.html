<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Russell Gray" />
        <meta name="copyright" content="Russell Gray" />

        <link rel="author" href=https://plus.google.com/u/0/102559471807447493728 />
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="rants, commentary, " />

<meta property="og:title" content="Look Before You Look Before You Leap "/>
<meta property="og:url" content="./look-before-you-look-before-you-leap.html" />
<meta property="og:description" content="Generally, I try to avoid turning this blog into some sort of snark-fest about other programmers or blogs. I&#39;ve disagreed with Jeff Atwood once or twice though, and so by posting this I&#39;m probably straying a little close to the edge...but what the hell. A couple of days …" />
<meta property="og:site_name" content="Basildon Coder" />
<meta property="og:article:author" content="Russell Gray" />
<meta property="og:article:published_time" content="2008-10-24T15:32:00+01:00" />
<meta name="twitter:title" content="Look Before You Look Before You Leap ">
<meta name="twitter:description" content="Generally, I try to avoid turning this blog into some sort of snark-fest about other programmers or blogs. I&#39;ve disagreed with Jeff Atwood once or twice though, and so by posting this I&#39;m probably straying a little close to the edge...but what the hell. A couple of days …">

        <title>Look Before You Look Before You Leap  · Basildon Coder
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="./theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <div class="span1"></div>
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="./"><span class=site-name>Basildon Coder</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href=".">Home</a></li>
                            <li ><a href="./categories.html">Categories</a></li>
                            <li ><a href="./tags.html">Tags</a></li>
                            <li ><a href="./archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="./search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="./look-before-you-look-before-you-leap.html"> Look Before You Look Before You Leap  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <p>Generally, I try to avoid turning this blog into some sort of <a href="http://www.google.co.uk/search?q=define%3Asnark">snark</a>-fest
about other programmers or blogs. I've disagreed with Jeff Atwood <a href="./code-can-be-beautiful.html">once</a> or
<a href="./freedom-zero-all-or-nothing-fallacy.html">twice</a> though, and so by posting this I'm probably straying a little close
to the edge...but what the hell.</p>
<p>A couple of days ago Coding Horror carried a <a href="http://www.codinghorror.com/blog/archives/001177.html">fluff piece</a> about how all
developers should be marketers too. Predictably, the article soon got posted
to <a href="http://www.reddit.com/r/programming/">proggit</a> where it was <a href="http://www.reddit.com/r/programming/comments/78vq3/jeff_atwood_finally_jumps_the_shark/">ripped on by reddit's resident Jeff-haters</a>,
and even more predictably the comments were a mix of interesting insight and
barely-concealed hate.</p>
<p>Apparently some of them got up Jeff's nose a bit, and today he <a href="http://www.codinghorror.com/blog/archives/001178.html">responded</a>.
The core of his rebuttal seems to be that you shouldn't trust what you read on
blogs, and should verify everything yourself. True enough, I guess, if perhaps
a bit impractical given the sheer amount of information out there.</p>
<p>Then, however, Jeff goes on to give an example by referencing a <a href="http://blog.madskristensen.dk/post/Compression-and-performance-GZip-vs-Deflate.aspx">compression
benchmark</a> he'd read on a blog and providing counter-analysis to show that
the benchmark was wrong in claiming Deflate is faster than gzip. In doing so,
much knowledge was gained.</p>
<p>Or so we are told.</p>
<p>The comment thread quickly becomes a goldmine of humour. Bugs in Jeff's
benchmarking code (not resetting the stopwatch) meant that the durations were
cumulative, not independent, with inevitable distortion of the results.
Another commenter pointed out that <a href="http://en.wikipedia.org/wiki/Gzip">gzip</a> cannot possibly be faster than
Deflate, since the gzip algorithm IS the Deflate algorithm plus some
additional computation.</p>
<blockquote>
<p>"gzip" is often also used to refer to the gzip file format, which is:</p>
<ul>
<li>a 10-byte header, containing a magic number, a version number and
    a timestamp</li>
<li>optional extra headers, such as the original file name,</li>
<li>a body, containing a DEFLATE-compressed payload</li>
<li>an 8-byte footer, containing a CRC-32 checksum and the length of
    the original uncompressed data</li>
</ul>
<p><cite>(<a href="http://en.wikipedia.org/wiki/Gzip">Wikipedia</a>)</cite></p>
</blockquote>
<p>With the benchmarking code fixed, we see that Deflate is indeed slightly
faster than gzip.</p>
<p>All of which leads to repeated quotations from Jeff about the community being
smarter than him, and some drastic toning down of language in post-publication
edits to the article. I read a cached version of the RSS feed, which is
markedly different to the article currently live on codinghorror.com - "on my
box, GZip is twice as fast as Deflate" becomes "on my box, GZip is just as
fast as Deflate", "Deflate is way slower. It's not even close" becomes
"Deflate is nowhere near 40% faster", etc.</p>
<p><img alt="Coding Horror screengrab" src="./images/codinghorror01.png"></p>
<p>Anyone who's tackled a major performance problem will likely agree that
profiling is a tremendously valuable technique that should always be
applied before attempting to optimise (i.e. look before you leap). I
think this little episode has highlighted a couple of important things
to bear in mind, however:</p>
<ol>
<li>
<p>Profiling isn't a magic wand - if you use buggy profiling code, you are
leading yourself up the garden path.</p>
</li>
<li>
<p>Profiling is less useful when you can reason (in the mathematical sense)
about the code. That involves <em>understanding the algorithms you are dealing
with</em>. Gzip is Deflate plus a bit more processing - so unless that extra
processing has a negative duration gzip must necessarily take longer. You
don't need a profiler to work that out. Look <em>before</em>you look before you leap.</p>
</li>
</ol>
<p>Anyway, enough hatcheting from me, normal service will be resumed
shortly.</p>
            
            
            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="./project-euler-problem-6.html" title="Previous: Project Euler Problem 6">Project Euler Problem 6</a></li>
                <li class="next-article"><a href="./project-euler-problem-7.html" title="Next: Project Euler Problem 7">Project Euler Problem 7</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2008-10-24T15:32:00+01:00">Oct 24, 2008</time>
            <h4>Category</h4>
            <a class="category-link" href="./categories.html#commentary-ref">commentary</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="./tags.html#rants-ref">rants
                    <span>7</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="http://twitter.com/russgray" title="My Twitter Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-twitter sidebar-social-links"></i></a>
    <a href="http://github.com/russgray" title="My Github Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-github sidebar-social-links"></i></a>
    <a href="http://uk.linkedin.com/in/russgray/" title="My LinkedIn Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-linkedin sidebar-social-links"></i></a>
    <a href="mailto:russgray@gmail.com" title="My Email Address" class="sidebar-social-links" target="_blank">
    <i class="fa fa-envelope sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="https://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>